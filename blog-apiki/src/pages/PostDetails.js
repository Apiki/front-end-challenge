import React, { useContext, useEffect } from 'react';
import { useLocation, Link } from 'react-router-dom';
import context from '../context/Context';
import { fetchSinglePost } from '../services';

function PostDetails() {

  const { setSinglePost, singlePost, setFetching, isFetching } = useContext(context);
  const location = useLocation().pathname;
  let newPost = [];
  const slug = location.replace("/", "");

  const getSinglePost = async () => {
    newPost = await fetchSinglePost(slug);
    setSinglePost(newPost);
  };

  useEffect(() => {
    setFetching(true);
    getSinglePost();
    setFetching(false);
  }, []);

  return (
    <div>
      { isFetching ? <h2>Carregando...</h2> : singlePost.map((post, index) => (
          <div key={ index }>
            <h1>{ post.title.rendered }</h1>
            <img src={ post._embedded["wp:featuredmedia"][0].source_url } alt={ post.slug } width="800" />
            <div>
              <p>O Google Web Stories é uma evolução do AMP Stories.</p> <p>Se você ainda não o conhecia, o AMP Stories é um dos quatros <a href="https://blog.apiki.com/formatos-amp/">formatos AMP</a> existentes.</p> <p>Esse recurso é uma variação do AMP, através do qual você implementa Stories em seu website.</p> <p>Me refiro ao “Story”, tipo de conteúdo popularmente utilizado em redes sociais.</p> <p>Se você ainda não está por dentro, leia <a href="https://blog.apiki.com/google-amp-stories/">Google AMP Stories e o que você precisa saber a respeito.</a></p> <h2>Web Stories versus Stories das redes sociais</h2> <p>Você pode se perguntar, por que deveria investir nos Web Stories dado que já publica e tem resultados com os Stories do Instagram, ou alguma outra plataforma.</p> <p>Acredito que um não substitui o outro, mas você precisa ter conhecimento das significativas diferenças e possibilidades entre os dois formatos.</p> <p>Abaixo uma tabela comparativa para você se inteirar.</p> <div class="wp-block-group"><div class="wp-block-group__inner-container"> <figure class="wp-block-table is-style-stripes"><table><thead><tr><th>Recurso</th><th>Google Web Stories</th><th>Stories das redes sociais</th></tr></thead><tbody><tr><td>Alcance</td><td>Público na internet</td><td>Privado e limitado a rede social em que foi publicado</td></tr><tr><td>Exibe na busca do Google</td><td>Sim</td><td>Não</td></tr><tr><td>Embeda em outros sites</td><td>Sim</td><td>Não</td></tr><tr><td>Tempo de vida</td><td>Para sempre. Você decide quando despublicar</td><td>Limitado a 24h</td></tr><tr><td>Como criar</td><td>Com tecnologias web (HTML, CSS, JavaScript)</td><td>Através do aplicativo da rede social</td></tr><tr><td>Filtros</td><td>Pré produzidos nas imagens e vídeos</td><td>Através da interface do aplicativo da rede social</td></tr><tr><td>Animação</td><td>Para todos os elementos da história</td><td>Controle limitado sobre os elementos inseridos</td></tr><tr><td>Interações</td><td>Links, CTA, Conteúdo relacionado, menu, compartilhar, embeds diversos</td><td>Enquetes, Like, Reações, Mensagens diretas</td></tr><tr><td>Tipo de conteúdo</td><td>Texto, Imagem, Vídeo, Áudio, GIF Animado</td><td>Texto, Imagem, Vídeo, Áudio, GIF Animado</td></tr><tr><td>Mobile First</td><td>Sim</td><td>Sim</td></tr><tr><td>Fullscreen no desktop</td><td>Sim</td><td>Não</td></tr><tr><td>Analytics</td><td>Através do Google Analytics, ou outras ferramentas. Além de interações de eventos inline</td><td>Insights sobre o total de visualizações, números de toques e outros específicos de cada rede social.</td></tr></tbody></table></figure> <p>Eaí, vai investir em Web Stories?</p> </div></div> <h2>A estruturação de código do AMP Stories</h2> <p>Para você ter uma ideia técnica de como os elementos funcionam e são organizados, a ilustração abaixo te esclarece como os Web Stories são estruturados.</p> <p>Visualmente a representação seria assim:</p> <figure class="wp-block-image"><img loading="lazy" width="1024" height="442" src="https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts-1024x442.png" alt="Imagem ilustrativa com uma representação da composição estrutural de um AMP Story" class="wp-image-9868" srcset="https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts-1024x442.png 1024w, https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts-300x130.png 300w, https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts-768x332.png 768w, https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts-750x324.png 750w, https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/story_parts.png 1047w" sizes="(max-width: 1024px) 100vw, 1024px" /></figure> <p>A composição de uma AMP Story seria: páginas (com mais de uma teremos um carrossel), camadas sobre essas páginas com seus respectivos elementos.</p> <p>Esses elementos são HTML básico e uma estruturação AMP. </p> <p>A marcação HTML seria da seguinte forma:</p> <figure class="wp-block-image"><img loading="lazy" width="557" height="355" src="https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/amp-story-tag-hierarchy.png" alt="Imagem ilustrativa com exemplo de uma marcação HTML / AMP usada para construir AMP Story" class="wp-image-9869" srcset="https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/amp-story-tag-hierarchy.png 557w, https://blog.apiki.com/wp-content/uploads/sites/2/2019/07/amp-story-tag-hierarchy-300x191.png 300w" sizes="(max-width: 557px) 100vw, 557px" /></figure> <p>Quando você é desenvolvedor e apaixonado pela codificação, esse desenvolvimento pode ser manual.</p> <p>Mas pode ser também através de um editor visual, o que permite editores, designers, profissionais de marketing e pessoas sem experiência em programação, contarem suas histórias.</p> <p>O Google <a href="https://stories.google/intl/pt-BR_ALL/create/">preparou editores incríveis</a>, tanto ferramentas autônomas quanto um editor poderoso de Web Stories para o WP.</p> <h2>Web Stories para WordPress</h2> <p>O plugin Web Stories é gratuito, de código aberto e traz uma experiência rica de edição visual para a funcionalidade.</p> <figure class="wp-block-image size-large"><a href="https://wordpress.org/plugins/web-stories/"><img loading="lazy" width="1024" height="462" src="https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-1024x462.png" alt="O plugin Web Stories para WordPress da Google " class="wp-image-13285" srcset="https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-1024x462.png 1024w, https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-300x135.png 300w, https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-768x347.png 768w, https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-750x339.png 750w, https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress-1140x515.png 1140w, https://blog.apiki.com/wp-content/uploads/sites/2/2020/10/google-web-stories-plugin-wordpress.png 1500w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure> <p>O painel foge um pouco do padrão do WP, no entanto a experiência está boa para criar e gerir as suas histórias.</p> <p>Por padrão, alguns templates são disponibilizados. E você também pode criar os seus.</p> <p>A customização de foto é muito simples e várias opções. </p> <p>Seja as edições de texto, quanto vídeo, imagens e call to actions.</p> <p>A integração a biblioteca de WordPress também facilita bastante explorar seus conteúdos visuais existentes.</p> <h2>Conclusão</h2> <p>Através do Web Stories, o Google quer dar significativo alcance as suas histórias.</p> <p>Será uma briga interessante que ele vai disputar contra os gigantes das redes sociais.</p> <p>Mas na verdade, estamos falando da guerra da atenção dos usuários.</p> <p>E considerar uma estrutura relevante como a do Google faz todo sentido.</p> <p>Faz todo sentido para engajar ainda mais a sua audiência, atrair mais visitantes e converter para as ações desejadas pelo seus negócio.</p> <p>E o melhor de tudo, que o conteúdo não vai expirar em 24h, e ainda poderá ser encontrada através do maior buscador da internet.</p>
            </div>
          </div>
      ))}
      <div>
      <Link to="/">Voltar à Página Inicial</Link>
      </div>
    </div>
  );
}

export default PostDetails;
